# 통계적 지식: 주요 가정 검정 (Key Assumption Checks)

T-검정, ANOVA, 선형 회귀분석과 같은 대부분의 모수적(parametric) 통계 분석 기법들은 데이터가 특정 가정을 만족할 때에만 그 결과가 유효하고 신뢰할 수 있습니다. 따라서, 에이전트는 본 분석을 수행하기 전에 반드시 관련된 가정들을 검정하는 단계를 계획에 포함하고 실행해야 합니다.

---

## 1. 정규성 가정 (Normality Assumption)

### 1.1. 내용
-   **가정**: 데이터(또는 회귀분석의 경우 잔차)가 정규분포(Normal Distribution, 가우시안 분포)를 따릅니다.
-   **중요한 이유**: T-분포, F-분포 등은 데이터의 정규성을 가정하고 만들어진 확률 분포이기 때문입니다.
-   **주요 검정 방법**:
    -   **Shapiro-Wilk Test**: 샘플 크기가 작을 때(보통 n < 50) 매우 정확하고 강력한 정규성 검정 방법입니다.
    -   **Kolmogorov-Smirnov Test**: 샘플 크기가 클 때 사용될 수 있습니다.
    -   **시각적 방법**: Q-Q Plot, 히스토그램. Q-Q plot에서 점들이 대각선에 가깝게 분포하면 정규성을 만족한다고 볼 수 있습니다.

### 1.2. 결과 해석
-   **귀무가설 (H0)**: "데이터는 정규분포를 따른다."
-   `p-value ≥ 0.05` : 귀무가설을 기각할 수 없으므로, **정규성 가정을 만족한다**고 판단합니다.
-   `p-value < 0.05` : 귀무가설을 기각하므로, **정규성 가정을 만족하지 않는다**고 판단합니다.

### 1.3. 가정이 위배될 경우
-   데이터 변환 (로그, 제곱근 등)을 시도하여 정규성을 만족시킬 수 있습니다.
-   **비모수적 검정 (Non-parametric Test)**을 대안으로 사용합니다. (예: t-test 대신 Mann-Whitney U test, ANOVA 대신 Kruskal-Wallis test)

---

## 2. 등분산성 가정 (Homogeneity of Variance / Homoscedasticity)

### 2.1. 내용
-   **가정**: 비교하고자 하는 각 그룹의 분산이 동일합니다. (회귀분석에서는 잔차의 분산이 일정해야 함)
-   **중요한 이유**: 분산이 다르면, 특정 그룹의 데이터 변동성이 다른 그룹에 비해 커서 통계량을 왜곡할 수 있습니다.
-   **주요 검정 방법**:
    -   **Levene's Test**: 가장 일반적으로 사용되는 등분산성 검정 방법입니다. 데이터가 정규분포를 따르지 않아도 비교적 잘 작동합니다.
    -   **Bartlett's Test**: 데이터가 정규분포를 완벽하게 따를 때 Levene's Test보다 더 강력합니다.
    -   **시각적 방법**: 잔차도(Residual Plot) - 회귀분석에서 잔차들이 0을 기준으로 무작위적으로 흩어져 있어야 합니다.

### 2.2. 결과 해석
-   **귀무가설 (H0)**: "모든 그룹의 분산은 동일하다."
-   `p-value ≥ 0.05` : 귀무가설을 기각할 수 없으므로, **등분산성 가정을 만족한다**고 판단합니다.
-   `p-value < 0.05` : 귀무가설을 기각하므로, **등분산성 가정을 만족하지 않는다**고 판단합니다.

### 2.3. 가정이 위배될 경우
-   **독립 표본 T-검정**: **Welch's t-test**를 사용합니다 (`equal_var=False` 옵션).
-   **ANOVA**: **Welch's ANOVA**를 사용하거나, 다른 강건한(robust) 통계 기법을 고려합니다.

---

## 3. LLM 에이전트 활용 가이드

-   **계획의 필수 요소**: 에이전트는 T-검정, ANOVA, 회귀분석을 계획할 때, 본 분석 단계 **이전에** 항상 Shapiro-Wilk 검정(정규성)과 Levene 검정(등분산성)을 수행하는 단계를 포함해야 합니다.
-   **결과 보고**: 최종 보고서의 '상세 분석' 섹션에 가정 검정 결과를 명확히 제시하고, "모든 통계적 가정을 만족하여 다음 분석을 진행했습니다" 또는 "등분산성 가정이 위배되어 Welch's t-test를 사용했습니다" 와 같이 그 결과가 다음 분석 단계에 어떤 영향을 미쳤는지를 명확히 서술해야 합니다. 