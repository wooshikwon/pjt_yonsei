# 통계적 지식: 카이제곱 검정 (Chi-Square Test of Independence)

## 1. 정의 (Definition)

카이제곱 검정(χ²)은 두 범주형 변수 사이에 통계적으로 유의미한 연관성(Association)이 있는지를 검정하는 데 사용되는 비모수적(non-parametric) 방법입니다.

이 검정은 관측된 빈도(Observed Frequency)와 두 변수가 서로 독립적일 때 기대되는 빈도(Expected Frequency)를 비교합니다. 관측 빈도와 기대 빈도의 차이가 크면 클수록, 두 변수는 서로 연관되어 있다고 결론 내립니다.

## 2. 사용 시점 (When to Use)

-   **독립 변수**: 범주형 변수 1개 (예: `Region`)
-   **종속 변수**: 범주형 변수 1개 (예: `SubscriptionTier`)
-   **연구 질문**: "고객의 거주 지역과 구독 등급 간에 연관성이 있는가?" (즉, 특정 지역에 특정 구독 등급을 가진 고객이 더 많은 경향이 있는가?)

## 3. 핵심 가정 (Key Assumptions)

1.  **독립성 (Independence)**: 각 관측치는 서로 독립적이어야 합니다. 한 관측치가 다른 관측치에 영향을 주어서는 안 됩니다.
2.  **기대 빈도 (Expected Frequency)**: 분할표(Contingency Table)의 각 셀(cell)에 대한 기대 빈도는 **최소 5 이상**이어야 합니다. 만약 이 가정이 충족되지 않으면, 카이제곱 검정의 결과가 정확하지 않을 수 있으며, 이 경우 **피셔의 정확 검정(Fisher's Exact Test)**을 대안으로 사용해야 합니다.

## 4. 결과 해석 (Interpretation of Results)

-   **Chi-Square Statistic (χ²)**: 관측 빈도와 기대 빈도 간의 차이를 제곱하여 합한 값입니다. 이 값이 클수록 두 변수 간의 연관성이 강하다는 것을 의미합니다.
-   **p-value**: 귀무가설(두 변수는 서로 독립이다, 즉 연관성이 없다)이 사실일 때 현재와 같은 χ² 값을 관찰할 확률입니다. p-value가 유의수준(보통 0.05)보다 작으면, 두 변수 간에 통계적으로 유의미한 연관성이 있다고 결론 내립니다.
-   **degrees of freedom (df)**: 자유도. `(행의 수 - 1) * (열의 수 - 1)`로 계산됩니다.

## 5. LLM 에이전트 활용 가이드

-   **계획 수립**:
    -   사용자 요청이 두 범주형 변수 간의 관계나 빈도 차이를 분석하는 것일 때 카이제곱 검정을 계획합니다.
    -   본 분석 전, 각 셀의 기대 빈도가 5 이상인지 확인하는 단계를 계획에 포함시키는 것이 좋습니다. (실제 도구 실행 시 이 가정이 깨지면 경고를 반환하도록 설계할 수 있습니다.)
-   **결과 해석**:
    -   분할표(Observed Frequency Table)를 먼저 제시하여 데이터의 분포를 보여줍니다.
    -   χ² 값, p-값, 자유도를 명확히 보고해야 합니다.
    -   "χ²(6) = 15.4, p = 0.018" 과 같은 통계량과 함께, "분석 결과, 고객의 거주 지역과 구독 등급 간에는 통계적으로 유의미한 연관성이 있는 것으로 나타났습니다." 와 같이 해석합니다.
    -   만약 검정이 유의하다면, "어떤 셀에서** 관측 빈도가 기대 빈도보다 유의하게 높거나 낮은지"를 설명하는 **잔차 분석(Residuals Analysis)** 결과를 추가로 제시하여 관계의 패턴을 더 깊이 있게 설명해야 합니다.
    -   분석 후에는 **크래머의 V (Cramér's V)**와 같은 효과 크기를 계산하여, 연관성의 강도를 보고하는 단계를 추가하는 것이 좋습니다. 