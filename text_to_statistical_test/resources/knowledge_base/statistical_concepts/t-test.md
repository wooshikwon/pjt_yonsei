# 통계적 지식: T-검정 (t-test)

## 1. 정의 (Definition)

T-검정은 두 집단의 평균값에 통계적으로 유의미한 차이가 있는지를 비교하는 데 사용되는 가설 검정 방법입니다. 이 검정은 데이터가 특정 가정을 따를 때 사용 가능하며, 주로 '독립 표본 T-검정'과 '대응 표본 T-검정'으로 나뉩니다.

-   **독립 표본 T-검정 (Independent Samples t-test)**: 서로 다른 두 집단(예: 남성/여성, A그룹/B그룹) 간의 평균을 비교할 때 사용합니다. 두 집단은 서로 독립적이어야 합니다.
-   **대응 표본 T-검정 (Paired Samples t-test)**: 동일한 집단에 대해 두 번의 다른 시점이나 다른 조건 하에서 측정한 값의 평균을 비교할 때 사용합니다. (예: 약물 투여 전/후의 혈압 비교)

## 2. 사용 시점 (When to Use)

-   **독립 변수**: 2개의 수준을 가진 범주형 변수 1개 (예: `UsedSupport` - 0 또는 1)
-   **종속 변수**: 연속형 수치 변수 1개 (예: `MonthlySpend`)
-   **연구 질문**: "고객 지원을 사용한 그룹과 사용하지 않은 그룹 간에 월 평균 지출액에 차이가 있는가?"

## 3. 핵심 가정 (Key Assumptions)

T-검정을 정확하게 사용하기 위해서는 다음의 가정들이 충족되어야 합니다. 에이전트는 분석 계획 수립 시 이 가정들을 검증하는 단계를 반드시 포함해야 합니다.

1.  **독립성 (Independence)**: 각 관측치는 서로 독립적이어야 합니다. (데이터 수집 설계에서 보장)
2.  **정규성 (Normality)**: 각 집단의 종속 변수 데이터는 정규분포를 따라야 합니다. 이는 **Shapiro-Wilk 검정**과 같은 정규성 검정 도구로 확인합니다. 만약 데이터 크기가 매우 크면(예: > 50), 중심극한정리에 의해 이 가정이 다소 완화될 수 있습니다.
3.  **등분산성 (Homogeneity of Variances)**: 두 집단의 분산은 서로 같아야 합니다. 이는 **Levene 검정**과 같은 등분산성 검정 도구로 확인합니다.
    -   만약 등분산성 가정이 위배될 경우(p < 0.05), **Welch's t-test**를 대신 사용해야 합니다. (대부분의 통계 패키지는 `equal_var=False` 옵션으로 이를 지원합니다.)

## 4. 결과 해석 (Interpretation of Results)

-   **t-statistic**: 두 집단 평균 간의 차이를 표준 오차로 나눈 값입니다. 이 값의 절대값이 클수록 두 집단 간의 차이가 크다는 것을 의미합니다.
-   **p-value**: 귀무가설(두 집단의 평균이 같다)이 사실일 때 현재와 같은 t-statistic 값을 관찰할 확률입니다. p-value가 유의수준(보통 0.05)보다 작으면, 두 집단 간 평균에 통계적으로 유의미한 차이가 있다고 결론 내립니다.
-   **degrees of freedom (df)**: 자유도. T-분포의 모양을 결정하며, 일반적으로 (전체 샘플 수 - 2) 입니다.

## 5. LLM 에이전트 활용 가이드

-   **계획 수립**:
    -   사용자 요청이 두 그룹 간의 평균 비교일 때 T-검정을 최우선으로 고려합니다.
    -   본 분석(T-검정) 이전에 반드시 **정규성 검정**과 **등분산성 검정**을 계획에 포함시켜야 합니다.
    -   Levene 검정 결과에 따라 표준 T-검정을 수행할지, Welch's T-검정을 수행할지 분기하는 논리를 계획에 명시할 수 있습니다.
-   **결과 해석**:
    -   가정 검정 결과를 먼저 보고하고, 그 결과에 따라 어떤 T-검정을 수행했는지 명시해야 합니다.
    -   t-값, p-값, 자유도를 명확히 보고해야 합니다.
    -   "t(98) = -2.5, p = 0.01" 과 같은 통계량 보고와 함께 "이는 고객 지원을 사용한 그룹의 월 평균 지출액이 그렇지 않은 그룹보다 통계적으로 유의미하게 높다는 것을 의미합니다." 와 같이 쉬운 언어로 해석을 제공해야 합니다.
    -   분석 후에는 반드시 **Cohen's d**와 같은 효과 크기(Effect Size)를 계산하여, 그 차이가 실질적으로 얼마나 의미 있는 크기인지 보고하는 단계를 추가해야 합니다. 