{
  "workflow_spec": {
    "name": "Statistical Analysis Workflow",
    "version": "1.0.0",
    "description": "8단계 RAG 기반 Agentic AI 통계 분석 워크플로우",
    "steps": [
      {
        "step_number": 1,
        "name": "data_selection",
        "title": "데이터 파일 선택",
        "description": "분석할 데이터 파일을 선택하고 기본 메타정보를 파악",
        "inputs": ["file_list"],
        "outputs": ["selected_file", "data_metadata", "basic_info"],
        "validation_criteria": [
          "파일이 존재하고 읽기 가능해야 함",
          "지원되는 파일 형식이어야 함",
          "파일 크기가 제한 내에 있어야 함"
        ]
      },
      {
        "step_number": 2,
        "name": "user_request",
        "title": "사용자 요청 분석",
        "description": "자연어로 분석 목표와 궁금증을 파악하고 명확화",
        "inputs": ["user_input", "data_metadata"],
        "outputs": ["analysis_objective", "specific_questions", "context"],
        "validation_criteria": [
          "분석 목표가 명확히 정의되어야 함",
          "데이터와 요청이 일치해야 함",
          "실현 가능한 분석이어야 함"
        ]
      },
      {
        "step_number": 3,
        "name": "data_summary",
        "title": "데이터 요약 및 분석",
        "description": "기술 통계, 변수 분포, 데이터 품질 문제 등을 종합적으로 분석",
        "inputs": ["data", "selected_columns"],
        "outputs": ["descriptive_stats", "data_quality_report", "distribution_analysis"],
        "validation_criteria": [
          "모든 필수 통계가 계산되어야 함",
          "데이터 품질 문제가 식별되어야 함",
          "변수 타입이 올바르게 분류되어야 함"
        ]
      },
      {
        "step_number": 4,
        "name": "analysis_proposal",
        "title": "분석 방법 제안",
        "description": "RAG를 활용하여 데이터 특성과 사용자 요청에 최적화된 통계 방법 제안",
        "inputs": ["user_objective", "data_characteristics", "domain_knowledge"],
        "outputs": ["proposed_methods", "method_rationale", "alternatives"],
        "validation_criteria": [
          "제안된 방법이 데이터 특성에 적합해야 함",
          "통계적 가정이 충족 가능해야 함",
          "대안이 제시되어야 함"
        ]
      },
      {
        "step_number": 5,
        "name": "user_selection",
        "title": "사용자 방법 선택",
        "description": "제안된 분석 방법 중 사용자가 선택하거나 추가 요구사항 반영",
        "inputs": ["proposed_methods", "user_feedback"],
        "outputs": ["selected_method", "customization", "final_parameters"],
        "validation_criteria": [
          "선택된 방법이 유효해야 함",
          "사용자 요구사항이 반영되어야 함",
          "실행 가능한 계획이어야 함"
        ]
      },
      {
        "step_number": 6,
        "name": "agent_analysis",
        "title": "Agent 분석 계획 수립",
        "description": "RAG 기반으로 구체적인 분석 실행 계획과 코드 템플릿 준비",
        "inputs": ["selected_method", "data_context", "code_templates"],
        "outputs": ["execution_plan", "code_structure", "validation_steps"],
        "validation_criteria": [
          "실행 계획이 체계적이어야 함",
          "코드가 검증되어야 함",
          "예외 처리가 포함되어야 함"
        ]
      },
      {
        "step_number": 7,
        "name": "agent_execution",
        "title": "Agent 통계 실행",
        "description": "Agentic LLM이 자율적으로 통계 검정을 수행하고 결과를 검증",
        "inputs": ["execution_plan", "preprocessed_data"],
        "outputs": ["test_results", "assumptions_check", "quality_metrics"],
        "validation_criteria": [
          "모든 통계 검정이 완료되어야 함",
          "가정 검증이 수행되어야 함",
          "결과가 검증되어야 함"
        ]
      },
      {
        "step_number": 8,
        "name": "agent_reporting",
        "title": "Agent 보고서 생성",
        "description": "종합적인 분석 보고서와 비즈니스 인사이트 생성",
        "inputs": ["test_results", "interpretation", "business_context"],
        "outputs": ["comprehensive_report", "visualizations", "recommendations"],
        "validation_criteria": [
          "보고서가 완전해야 함",
          "해석이 정확해야 함",
          "실행 가능한 권장사항이 포함되어야 함"
        ]
      }
    ],
    "global_settings": {
      "error_handling": {
        "max_retries": 3,
        "fallback_strategies": ["simplified_analysis", "manual_intervention"],
        "recovery_methods": ["validation_relaxation", "alternative_methods"]
      },
      "quality_assurance": {
        "validation_levels": ["basic", "statistical", "business"],
        "confidence_thresholds": {
          "minimum": 0.7,
          "recommended": 0.85,
          "high": 0.95
        }
      },
      "performance": {
        "timeout_seconds": 300,
        "memory_limit_mb": 2048,
        "parallel_processing": true
      }
    }
  }
} 